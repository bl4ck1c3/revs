var h=void 0,k=!0,l=null,m=!1;function n(){return function(){}}function aa(a){return function(){return this[a]}}var r,s=this;function ba(a,b){var c=a.split("."),d=s;!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var f;c.length&&(f=c.shift());)!c.length&&b!==h?d[f]=b:d=d[f]?d[f]:d[f]={}}
function ca(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function da(a){return"array"==ca(a)}function ea(a){var b=ca(a);return"array"==b||"object"==b&&"number"==typeof a.length}function t(a){return"string"==typeof a}function fa(a){return"function"==ca(a)}function ga(a){var b=typeof a;return"object"==b&&a!=l||"function"==b}var ha="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),ia=0;function ja(a,b,c){return a.call.apply(a.bind,arguments)}
function oa(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function pa(a,b,c){pa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ja:oa;return pa.apply(l,arguments)}
function qa(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}function ra(a,b){function c(){}c.prototype=b.prototype;a.Gb=b.prototype;a.prototype=new c;a.prototype.constructor=a};function sa(a,b){this.x=a;this.y=b};function ta(a){this.points=a};function ua(a,b,c,d){0<c?(this.x=a,this.width=c):(this.x=a+c,this.width=-c);0<d?(this.y=b,this.height=d):(this.y=b+d,this.height=-d)};function va(a,b){this.type=a;this.geometry=b}function wa(a){if("rect"==a.type)a=a.geometry.width*a.geometry.height;else if("polygon"==a.type){for(var a=a.geometry.points,b=0,c=a.length-1,d=0;d<a.length;d++)b+=(a[c].x+a[d].x)*(a[c].y-a[d].y),c=d;a=Math.abs(b/2)}else a=0;return a}
function xa(a){if("rect"==a.type)return a;if("polygon"==a.type){for(var a=a.geometry.points,b=a[0].x,c=a[0].x,d=a[0].y,f=a[0].y,e=1;e<a.length;e++)a[e].x>c&&(c=a[e].x),a[e].x<b&&(b=a[e].x),a[e].y>f&&(f=a[e].y),a[e].y<d&&(d=a[e].y);return new va("rect",new ua(b,d,c-b,f-d))}}
function ya(a,b){if("rect"==a.type){var c=a.geometry,d=b({x:c.x,y:c.y}),c=b({x:c.x+c.width,y:c.y+c.height});return new va("rect",new ua(d.x,d.y,c.x-d.x,c.y-d.y))}if("polygon"==a.type){var f=[];u(a.geometry.points,function(a){f.push(b(a))});return new va("polygon",new ta(f))}}function za(a){return JSON.stringify(a.geometry)};function Aa(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function Ba(a){if(!Ca.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(Da,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Ea,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Ia,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Ja,"&quot;"));return a}var Da=/&/g,Ea=/</g,Ia=/>/g,Ja=/\"/g,Ca=/[&<>\"]/,Ka={};function La(a){return Ka[a]||(Ka[a]=(""+a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()}))};var w=Array.prototype,Ma=w.indexOf?function(a,b,c){return w.indexOf.call(a,b,c)}:function(a,b,c){c=c==l?0:0>c?Math.max(0,a.length+c):c;if(t(a))return!t(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},u=w.forEach?function(a,b,c){w.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=t(a)?a.split(""):a,e=0;e<d;e++)e in f&&b.call(c,f[e],e,a)},Na=w.filter?function(a,b,c){return w.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=[],e=0,g=t(a)?a.split(""):
a,j=0;j<d;j++)if(j in g){var i=g[j];b.call(c,i,j,a)&&(f[e++]=i)}return f},Oa=w.map?function(a,b,c){return w.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=Array(d),e=t(a)?a.split(""):a,g=0;g<d;g++)g in e&&(f[g]=b.call(c,e[g],g,a));return f};function x(a,b){var c;a:{c=a.length;for(var d=t(a)?a.split(""):a,f=0;f<c;f++)if(f in d&&b.call(h,d[f],f,a)){c=f;break a}c=-1}return 0>c?l:t(a)?a.charAt(c):a[c]}function y(a,b){var c=Ma(a,b);0<=c&&w.splice.call(a,c,1)}
function Pa(a){return w.concat.apply(w,arguments)}function Qa(a){if(da(a))return Pa(a);for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}function Ra(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c],f;if(da(d)||(f=ea(d))&&d.hasOwnProperty("callee"))a.push.apply(a,d);else if(f)for(var e=a.length,g=d.length,j=0;j<g;j++)a[e+j]=d[j];else a.push(d)}}function Sa(a,b,c,d){w.splice.apply(a,Ta(arguments,1))}
function Ta(a,b,c){return 2>=arguments.length?w.slice.call(a,b):w.slice.call(a,b,c)}function Ua(a,b){w.sort.call(a,b||Va)}function Va(a,b){return a>b?1:a<b?-1:0};var Wa,Xa,Ya,Za,$a;function cb(){return s.navigator?s.navigator.userAgent:l}function db(){return s.navigator}Za=Ya=Xa=Wa=m;var eb;if(eb=cb()){var fb=db();Wa=0==eb.indexOf("Opera");Xa=!Wa&&-1!=eb.indexOf("MSIE");Ya=!Wa&&-1!=eb.indexOf("WebKit");Za=!Wa&&!Ya&&"Gecko"==fb.product}var gb=Wa,A=Xa,B=Za,C=Ya,hb=db();$a=-1!=(hb&&hb.platform||"").indexOf("Mac");var ib=!!db()&&-1!=(db().appVersion||"").indexOf("X11"),jb;
a:{var kb="",lb;if(gb&&s.opera)var mb=s.opera.version,kb="function"==typeof mb?mb():mb;else if(B?lb=/rv\:([^\);]+)(\)|;)/:A?lb=/MSIE\s+([^\);]+)(\)|;)/:C&&(lb=/WebKit\/(\S+)/),lb)var nb=lb.exec(cb()),kb=nb?nb[1]:"";if(A){var ob,pb=s.document;ob=pb?pb.documentMode:h;if(ob>parseFloat(kb)){jb=""+ob;break a}}jb=kb}var qb={};
function E(a){var b;if(!(b=qb[a])){b=0;for(var c=Aa(""+jb).split("."),d=Aa(""+a).split("."),f=Math.max(c.length,d.length),e=0;0==b&&e<f;e++){var g=c[e]||"",j=d[e]||"",i=RegExp("(\\d*)(\\D*)","g"),o=RegExp("(\\d*)(\\D*)","g");do{var z=i.exec(g)||["","",""],p=o.exec(j)||["","",""];if(0==z[0].length&&0==p[0].length)break;b=((0==z[1].length?0:parseInt(z[1],10))<(0==p[1].length?0:parseInt(p[1],10))?-1:(0==z[1].length?0:parseInt(z[1],10))>(0==p[1].length?0:parseInt(p[1],10))?1:0)||((0==z[2].length)<(0==
p[2].length)?-1:(0==z[2].length)>(0==p[2].length)?1:0)||(z[2]<p[2]?-1:z[2]>p[2]?1:0)}while(0==b)}b=qb[a]=0<=b}return b}var rb={};function sb(a){return rb[a]||(rb[a]=A&&!!document.documentMode&&document.documentMode>=a)};var tb,ub=!A||sb(9);!B&&!A||A&&sb(9)||B&&E("1.9.1");A&&E("9");var vb=A||gb||C;function wb(a){return(a=a.className)&&"function"==typeof a.split?a.split(/\s+/):[]}function xb(a,b){var c=wb(a),d=Ta(arguments,1),d=yb(c,d);a.className=c.join(" ");return d}function zb(a,b){var c=wb(a),d=Ta(arguments,1);Cb(c,d);a.className=c.join(" ")}function yb(a,b){for(var c=0,d=0;d<b.length;d++)0<=Ma(a,b[d])||(a.push(b[d]),c++);return c==b.length}function Cb(a,b){for(var c=0,d=0;d<a.length;d++)0<=Ma(b,a[d])&&(Sa(a,d--,1),c++)}
function Db(a,b,c){var d=wb(a);t(b)?y(d,b):da(b)&&Cb(d,b);t(c)&&!(0<=Ma(d,c))?d.push(c):da(c)&&yb(d,c);a.className=d.join(" ")};function Eb(a,b){this.x=a!==h?a:0;this.y=b!==h?b:0};function Fb(a,b){this.width=a;this.height=b}Fb.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};Fb.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function Gb(a,b){for(var c in a)b.call(h,a[c],c,a)}var Hb="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");function Ib(a,b){for(var c,d,f=1;f<arguments.length;f++){d=arguments[f];for(c in d)a[c]=d[c];for(var e=0;e<Hb.length;e++)c=Hb[e],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function Jb(a){return a?new Kb(Lb(a)):tb||(tb=new Kb)}function Mb(a,b){Gb(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in Nb?a.setAttribute(Nb[d],b):0==d.lastIndexOf("aria-",0)?a.setAttribute(d,b):a[d]=b})}var Nb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",maxlength:"maxLength",type:"type"};
function Ob(a){var b=!C?a.documentElement:a.body,a=a.parentWindow||a.defaultView;return new Eb(a.pageXOffset||b.scrollLeft,a.pageYOffset||b.scrollTop)}
function Pb(a,b,c){var d=arguments,f=document,e=d[0],g=d[1];if(!ub&&g&&(g.name||g.type)){e=["<",e];g.name&&e.push(' name="',Ba(g.name),'"');if(g.type){e.push(' type="',Ba(g.type),'"');var j={};Ib(j,g);g=j;delete g.type}e.push(">");e=e.join("")}e=f.createElement(e);g&&(t(g)?e.className=g:da(g)?xb.apply(l,[e].concat(g)):Mb(e,g));2<d.length&&Qb(f,e,d,2);return e}
function Qb(a,b,c,d){function f(c){c&&b.appendChild(t(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var e=c[d];ea(e)&&!(ga(e)&&0<e.nodeType)?u(Rb(e)?Qa(e):e,f):f(e)}}function Sb(a){for(var b;b=a.firstChild;)a.removeChild(b)}function Tb(a,b){var c=b.parentNode;c&&c.replaceChild(a,b)}function Ub(a){return ga(a)&&1==a.nodeType}function Vb(a){if(vb)return a.parentElement;a=a.parentNode;return Ub(a)?a:l}
function Wb(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Lb(a){return 9==a.nodeType?a:a.ownerDocument||a.document}function Rb(a){if(a&&"number"==typeof a.length){if(ga(a))return"function"==typeof a.item||"string"==typeof a.item;if(fa(a))return"function"==typeof a.item}return m}function Kb(a){this.ta=a||s.document||document}r=Kb.prototype;
r.createElement=function(a){return this.ta.createElement(a)};r.createTextNode=function(a){return this.ta.createTextNode(a)};r.appendChild=function(a,b){a.appendChild(b)};r.append=function(a,b){Qb(Lb(a),a,arguments,1)};r.contains=Wb;function H(a,b){var c=Jb().createElement("DIV");c.innerHTML=a(b||Xb,h,h);if(1==c.childNodes.length){var d=c.firstChild;if(1==d.nodeType)return d}return c}var Xb={};function Yb(){return k};/*
 Portions of this code are from the Dojo Toolkit, received by
 The Closure Library Authors under the BSD license. All other code is
 Copyright 2005-2009 The Closure Library Authors. All Rights Reserved.

 The "New" BSD License:

 Copyright (c) 2005-2009, The Dojo Foundation
 All rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are met:

 Redistributions of source code must retain the above copyright notice, this
 list of conditions and the following disclaimer.
 Redistributions in binary form must reproduce the above copyright notice,
 this list of conditions and the following disclaimer in the documentation
 and/or other materials provided with the distribution.
 Neither the name of the Dojo Foundation nor the names of its contributors
 may be used to endorse or promote products derived from this software
 without specific prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE
 FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/
var I=function(){function a(a,c){if(!a)return[];if(a.constructor==Array)return a;if(!t(a))return[a];if(t(c)&&(c=t(c)?document.getElementById(c):c,!c))return[];var c=c||document,e=c.ownerDocument||c.documentElement;la=c.contentType&&"application/xml"==c.contentType||gb&&(c.doctype||"[object XMLDocument]"==e.toString())||!!e&&(A?e.xml:c.xmlVersion||e.xmlVersion);return(e=d(a)(c))&&e.Ha?e:b(e)}function b(a){if(a&&a.Ha)return a;var b=[];if(!a||!a.length)return b;a[0]&&b.push(a[0]);if(2>a.length)return b;
O++;if(A&&la){var c=O+"";a[0].setAttribute("_zipIdx",c);for(var d=1,e;e=a[d];d++)a[d].getAttribute("_zipIdx")!=c&&b.push(e),e.setAttribute("_zipIdx",c)}else if(A&&a.Nb)try{for(d=1;e=a[d];d++)ab(e)&&b.push(e)}catch(f){}else{a[0]&&(a[0]._zipIdx=O);for(d=1;e=a[d];d++)a[d]._zipIdx!=O&&b.push(e),e._zipIdx=O}return b}function c(a,b){if(!b)return 1;var c=td(a);return!b[c]?b[c]=1:0}function d(a,b){if(oc){var c=pc[a];if(c&&!b)return c}if(c=qc[a])return c;var c=a.charAt(0),e=-1==a.indexOf(" ");0<=a.indexOf("#")&&
e&&(b=k);if(oc&&!b&&-1==">~+".indexOf(c)&&(!A||-1==a.indexOf(":"))&&!(rc&&0<=a.indexOf("."))&&-1==a.indexOf(":contains")&&-1==a.indexOf("|=")){var g=0<=">~+".indexOf(a.charAt(a.length-1))?a+" *":a;return pc[a]=function(b){try{if(!(9==b.nodeType||e))throw"";var c=b.querySelectorAll(g);A?c.Nb=k:c.Ha=k;return c}catch(f){return d(a,k)(b)}}}var i=a.split(/\s*,\s*/);return qc[a]=2>i.length?f(a):function(a){for(var b=0,c=[],d;d=i[b++];)c=c.concat(f(d)(a));return c}}function f(a){var b=sc(Aa(a));if(1==b.length){var c=
e(b[0]);return function(a){if(a=c(a,[]))a.Ha=k;return a}}return function(a){for(var a=Fa(a),c,d,f=b.length,g,ka,Ab=0;Ab<f;Ab++){ka=[];c=b[Ab];d=a.length-1;0<d&&(g={},ka.Ha=k);d=e(c);for(var i=0;c=a[i];i++)d(c,ka,g);if(!ka.length)break;a=ka}return ka}}function e(a){var b=tc[a.ga];if(b)return b;var c=a.xb,c=c?c.Ia:"",d=o(a,{t:1}),e="*"==a.v,f=document.getElementsByClassName;if(c)f={t:1},e&&(f.v=1),d=o(a,f),"+"==c?b=i(d):"~"==c?b=j(d):">"==c&&(b=g(d));else if(a.id)d=!a.Ab&&e?Yb:o(a,{t:1,id:1}),b=function(b,
c){var e;e=Jb(b);var f=a.id;if(f=(e=t(f)?e.ta.getElementById(f):f)&&d(e))if(!(f=9==b.nodeType)){for(f=e.parentNode;f&&!(f==b);)f=f.parentNode;f=!!f}if(f)return Fa(e,c)};else if(f&&/\{\s*\[native code\]\s*\}/.test(""+f)&&a.K.length&&!rc)var d=o(a,{t:1,K:1,id:1}),p=a.K.join(" "),b=function(a,b){for(var c=Fa(0,b),e,f=0,g=a.getElementsByClassName(p);e=g[f++];)d(e,a)&&c.push(e);return c};else!e&&!a.Ab?b=function(b,c){for(var d=Fa(0,c),e,f=0,g=b.getElementsByTagName(a.ab());e=g[f++];)d.push(e);return d}:
(d=o(a,{t:1,v:1,id:1}),b=function(b,c){for(var e=Fa(0,c),f,g=0,sd=b.getElementsByTagName(a.ab());f=sd[g++];)d(f,b)&&e.push(f);return e});return tc[a.ga]=b}function g(a){a=a||Yb;return function(b,d,e){for(var f=0,g=b[uc];b=g[f++];)Ga(b)&&(!e||c(b,e))&&a(b,f)&&d.push(b);return d}}function j(a){return function(b,d,e){for(b=b[Ha];b;){if(Ga(b)){if(e&&!c(b,e))break;a(b)&&d.push(b)}b=b[Ha]}return d}}function i(a){return function(b,d,e){for(;b=b[Ha];)if(!bb||ab(b)){(!e||c(b,e))&&a(b)&&d.push(b);break}return d}}
function o(a,b){if(!a)return Yb;var b=b||{},c=l;b.t||(c=ma(c,ab));b.v||"*"!=a.v&&(c=ma(c,function(b){return b&&b.tagName==a.ab()}));b.K||u(a.K,function(a,b){var d=RegExp("(?:^|\\s)"+a+"(?:\\s|$)");c=ma(c,function(a){return d.test(a.className)});c.count=b});b.W||u(a.W,function(a){var b=a.name;Bb[b]&&(c=ma(c,Bb[b](b,a.value)))});b.Aa||u(a.Aa,function(a){var b,d=a.Ya;a.type&&vc[a.type]?b=vc[a.type](d,a.bb):d.length&&(b=ud(d));b&&(c=ma(c,b))});b.id||a.id&&(c=ma(c,function(b){return!!b&&b.id==a.id}));
c||"default"in b||(c=Yb);return c}function z(a){return K(a)%2}function p(a){return!(K(a)%2)}function K(a){var b=a.parentNode,c=0,d=b[uc],e=a._i||-1,f=b._l||-1;if(!d)return-1;d=d.length;if(f==d&&0<=e&&0<=f)return e;b._l=d;e=-1;for(b=b.firstElementChild||b.firstChild;b;b=b[Ha])Ga(b)&&(b._i=++c,a===b&&(e=c));return e}function D(a){for(;a=a[Ha];)if(Ga(a))return m;return k}function wc(a){for(;a=a[vd];)if(Ga(a))return m;return k}function na(a,b){return!a?"":"class"==b?a.className||"":"for"==b?a.htmlFor||
"":"style"==b?a.style.cssText||"":(la?a.getAttribute(b):a.getAttribute(b,2))||""}function ab(a){return 1==a.nodeType}function ma(a,b){return!a?b:!b?a:function(){return a.apply(window,arguments)&&b.apply(window,arguments)}}function sc(a){function b(){0<=o&&(q.id=c(o,v).replace(/\\/g,""),o=-1);if(0<=p){var a=p==v?l:c(p,v);0>">~+".indexOf(a)?q.v=a:q.Ia=a;p=-1}0<=j&&(q.K.push(c(j+1,v).replace(/\\/g,"")),j=-1)}function c(b,d){return Aa(a.slice(b,d))}for(var a=0<=">~+".indexOf(a.slice(-1))?a+" * ":a+" ",
d=[],e=-1,f=-1,g=-1,i=-1,j=-1,o=-1,p=-1,z="",F="",D,v=0,K=a.length,q=l,G=l;z=F,F=a.charAt(v),v<K;v++)if("\\"!=z)if(q||(D=v,q={ga:l,W:[],Aa:[],K:[],v:l,Ia:l,id:l,ab:function(){return la?this.Sb:this.v}},p=v),0<=e)if("]"==F){G.Ya?G.bb=c(g||e+1,v):G.Ya=c(e+1,v);if((e=G.bb)&&('"'==e.charAt(0)||"'"==e.charAt(0)))G.bb=e.slice(1,-1);q.Aa.push(G);G=l;e=g=-1}else"="==F&&(g=0<="|~^$*".indexOf(z)?z:"",G.type=g+F,G.Ya=c(e+1,v-g.length),g=v+1);else 0<=f?")"==F&&(0<=i&&(G.value=c(f+1,v)),i=f=-1):"#"==F?(b(),o=
v+1):"."==F?(b(),j=v):":"==F?(b(),i=v):"["==F?(b(),e=v,G={}):"("==F?(0<=i&&(G={name:c(i+1,v),value:l},q.W.push(G)),f=v):" "==F&&z!=F&&(b(),0<=i&&q.W.push({name:c(i+1,v)}),q.Ab=q.W.length||q.Aa.length||q.K.length,q.bc=q.ga=c(D,v),q.Sb=q.v=q.Ia?l:q.v||"*",q.v&&(q.v=q.v.toUpperCase()),d.length&&d[d.length-1].Ia&&(q.xb=d.pop(),q.ga=q.xb.ga+" "+q.ga),d.push(q),q=l);return d}function Fa(a,b){var c=b||[];a&&c.push(a);return c}var rc=C&&"BackCompat"==document.compatMode,uc=document.firstChild.children?"children":
"childNodes",la=m,vc={"*=":function(a,b){return function(c){return 0<=na(c,a).indexOf(b)}},"^=":function(a,b){return function(c){return 0==na(c,a).indexOf(b)}},"$=":function(a,b){return function(c){c=" "+na(c,a);return c.lastIndexOf(b)==c.length-b.length}},"~=":function(a,b){var c=" "+b+" ";return function(b){return 0<=(" "+na(b,a)+" ").indexOf(c)}},"|=":function(a,b){b=" "+b;return function(c){c=" "+na(c,a);return c==b||0==c.indexOf(b+"-")}},"=":function(a,b){return function(c){return na(c,a)==b}}},
bb="undefined"==typeof document.firstChild.nextElementSibling,Ha=!bb?"nextElementSibling":"nextSibling",vd=!bb?"previousElementSibling":"previousSibling",Ga=bb?ab:Yb,Bb={checked:function(){return function(a){return a.checked||a.attributes.checked}},"first-child":function(){return wc},"last-child":function(){return D},"only-child":function(){return function(a){return!wc(a)||!D(a)?m:k}},empty:function(){return function(a){for(var b=a.childNodes,a=a.childNodes.length-1;0<=a;a--){var c=b[a].nodeType;
if(1===c||3==c)return m}return k}},contains:function(a,b){var c=b.charAt(0);if('"'==c||"'"==c)b=b.slice(1,-1);return function(a){return 0<=a.innerHTML.indexOf(b)}},not:function(a,b){var c=sc(b)[0],d={t:1};"*"!=c.v&&(d.v=1);c.K.length||(d.K=1);var e=o(c,d);return function(a){return!e(a)}},"nth-child":function(a,b){if("odd"==b)return z;if("even"==b)return p;if(-1!=b.indexOf("n")){var c=b.split("n",2),d=c[0]?"-"==c[0]?-1:parseInt(c[0],10):1,e=c[1]?parseInt(c[1],10):0,f=0,g=-1;0<d?0>e?e=e%d&&d+e%d:0<
e&&(e>=d&&(f=e-e%d),e%=d):0>d&&(d*=-1,0<e&&(g=e,e%=d));if(0<d)return function(a){a=K(a);return a>=f&&(0>g||a<=g)&&a%d==e};b=e}var i=parseInt(b,10);return function(a){return K(a)==i}}},ud=A?function(a){var b=a.toLowerCase();"class"==b&&(a="className");return function(c){return la?c.getAttribute(a):c[a]||c[b]}}:function(a){return function(b){return b&&b.getAttribute&&b.hasAttribute(a)}},tc={},qc={},pc={},oc=!!document.querySelectorAll&&(!C||E("526")),O=0,td=A?function(a){return la?a.getAttribute("_uid")||
a.setAttribute("_uid",++O)||O:a.uniqueID}:function(a){return a._uid||(a._uid=++O)};a.W=Bb;return a}();ba("goog.dom.query",I);ba("goog.dom.query.pseudos",I.W);!A||sb(9);var Zb=!A||sb(9),$b=A&&!E("8");!C||E("528");B&&E("1.9b")||A&&E("8")||gb&&E("9.5")||C&&E("528");!B||E("8");function ac(){}ac.prototype.tb=m;ac.prototype.Ba=function(){this.tb||(this.tb=k,this.Ca())};ac.prototype.Ca=function(){this.Pb&&bc.apply(l,this.Pb)};function bc(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];ea(d)?bc.apply(l,d):d&&"function"==typeof d.Ba&&d.Ba()}};function J(a,b){this.type=a;this.currentTarget=this.target=b}ra(J,ac);J.prototype.Ca=function(){delete this.type;delete this.target;delete this.currentTarget};J.prototype.eb=m;J.prototype.Eb=k;J.prototype.preventDefault=function(){this.Eb=m};function cc(a){cc[" "](a);return a}cc[" "]=n();function dc(a,b){a&&this.init(a,b)}ra(dc,J);r=dc.prototype;r.target=l;r.relatedTarget=l;r.offsetX=0;r.offsetY=0;r.clientX=0;r.clientY=0;r.screenX=0;r.screenY=0;r.button=0;r.keyCode=0;r.charCode=0;r.ctrlKey=m;r.altKey=m;r.shiftKey=m;r.metaKey=m;r.fa=l;
r.init=function(a,b){var c=this.type=a.type;J.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(B){var f;a:{try{cc(d.nodeName);f=k;break a}catch(e){}f=m}f||(d=l)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=C||a.offsetX!==h?a.offsetX:a.layerX;this.offsetY=C||a.offsetY!==h?a.offsetY:a.layerY;this.clientX=a.clientX!==h?a.clientX:a.pageX;this.clientY=a.clientY!==h?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.fa=a;delete this.Eb;delete this.eb};r.preventDefault=function(){dc.Gb.preventDefault.call(this);var a=this.fa;if(a.preventDefault)a.preventDefault();else if(a.returnValue=m,$b)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};
r.Qb=aa("fa");r.Ca=function(){dc.Gb.Ca.call(this);this.relatedTarget=this.currentTarget=this.target=this.fa=l};function ec(){}var fc=0;r=ec.prototype;r.key=0;r.ia=m;r.rb=m;r.init=function(a,b,c,d,f,e){if(fa(a))this.zb=k;else if(a&&a.handleEvent&&fa(a.handleEvent))this.zb=m;else throw Error("Invalid listener argument");this.Da=a;this.Cb=b;this.src=c;this.type=d;this.capture=!!f;this.va=e;this.rb=m;this.key=++fc;this.ia=m};r.handleEvent=function(a){return this.zb?this.Da.call(this.va||this.src,a):this.Da.handleEvent.call(this.Da,a)};var gc={},L={},hc={},ic={};
function M(a,b,c,d,f){if(b){if(da(b)){for(var e=0;e<b.length;e++)M(a,b[e],c,d,f);return l}var d=!!d,g=L;b in g||(g[b]={r:0,X:0});g=g[b];d in g||(g[d]={r:0,X:0},g.r++);var g=g[d],j=a[ha]||(a[ha]=++ia),i;g.X++;if(g[j]){i=g[j];for(e=0;e<i.length;e++)if(g=i[e],g.Da==c&&g.va==f){if(g.ia)break;return i[e].key}}else i=g[j]=[],g.r++;e=jc();e.src=a;g=new ec;g.init(c,e,a,b,d,f);c=g.key;e.key=c;i.push(g);gc[c]=g;hc[j]||(hc[j]=[]);hc[j].push(g);a.addEventListener?(a==s||!a.Ob)&&a.addEventListener(b,e,d):a.attachEvent(b in
ic?ic[b]:ic[b]="on"+b,e);return c}throw Error("Invalid event type");}function jc(){var a=kc,b=Zb?function(c){return a.call(b.src,b.key,c)}:function(c){c=a.call(b.src,b.key,c);if(!c)return c};return b}
function lc(a){if(gc[a]){var b=gc[a];if(!b.ia){var c=b.src,d=b.type,f=b.Cb,e=b.capture;c.removeEventListener?(c==s||!c.Ob)&&c.removeEventListener(d,f,e):c.detachEvent&&c.detachEvent(d in ic?ic[d]:ic[d]="on"+d,f);c=c[ha]||(c[ha]=++ia);f=L[d][e][c];if(hc[c]){var g=hc[c];y(g,b);0==g.length&&delete hc[c]}b.ia=k;f.Bb=k;mc(d,e,c,f);delete gc[a]}}}
function mc(a,b,c,d){if(!d.Ea&&d.Bb){for(var f=0,e=0;f<d.length;f++)d[f].ia?d[f].Cb.src=l:(f!=e&&(d[e]=d[f]),e++);d.length=e;d.Bb=m;0==e&&(delete L[a][b][c],L[a][b].r--,0==L[a][b].r&&(delete L[a][b],L[a].r--),0==L[a].r&&delete L[a])}}function nc(a,b,c,d,f){var e=1,b=b[ha]||(b[ha]=++ia);if(a[b]){a.X--;a=a[b];a.Ea?a.Ea++:a.Ea=1;try{for(var g=a.length,j=0;j<g;j++){var i=a[j];i&&!i.ia&&(e&=xc(i,f)!==m)}}finally{a.Ea--,mc(c,d,b,a)}}return Boolean(e)}
function xc(a,b){var c=a.handleEvent(b);a.rb&&lc(a.key);return c}
function kc(a,b){if(!gc[a])return k;var c=gc[a],d=c.type,f=L;if(!(d in f))return k;var f=f[d],e,g;if(!Zb){var j;if(!(j=b))a:{j=["window","event"];for(var i=s;e=j.shift();)if(i[e]!=l)i=i[e];else{j=l;break a}j=i}e=j;j=k in f;i=m in f;if(j){if(0>e.keyCode||e.returnValue!=h)return k;a:{var o=m;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(z){o=k}if(o||e.returnValue==h)e.returnValue=k}}o=new dc;o.init(e,this);e=k;try{if(j){for(var p=[],K=o.currentTarget;K;K=K.parentNode)p.push(K);g=f[k];g.X=g.r;for(var D=
p.length-1;!o.eb&&0<=D&&g.X;D--)o.currentTarget=p[D],e&=nc(g,p[D],d,k,o);if(i){g=f[m];g.X=g.r;for(D=0;!o.eb&&D<p.length&&g.X;D++)o.currentTarget=p[D],e&=nc(g,p[D],d,m,o)}}else e=xc(c,o)}finally{p&&(p.length=0),o.Ba()}return e}d=new dc(b,this);try{e=xc(c,d)}finally{d.Ba()}return e};function yc(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}yc.prototype.contains=function(a){return!this||!a?m:a instanceof yc?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};function zc(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}zc.prototype.contains=function(a){return a instanceof zc?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};function N(a,b,c){t(b)?Ac(a,c,b):Gb(b,qa(Ac,a))}function Ac(a,b,c){a.style[La(c)]=b}function P(a,b){var c=Lb(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,l))?c[b]||c.getPropertyValue(b):""}function Bc(a,b){return a.currentStyle?a.currentStyle[b]:l}function Cc(a,b){return P(a,b)||Bc(a,b)||a.style&&a.style[b]}function Dc(a,b,c){var d,f=B&&($a||ib)&&E("1.9");b instanceof Eb?(d=b.x,b=b.y):(d=b,b=c);a.style.left=Ec(d,f);a.style.top=Ec(b,f)}
function Fc(a){var b=a.getBoundingClientRect();A&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function Gc(a){if(A&&!sb(8))return a.offsetParent;for(var b=Lb(a),c=Cc(a,"position"),d="fixed"==c||"absolute"==c,a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=Cc(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return l}
function Hc(a){var b,c=Lb(a),d=Cc(a,"position"),f=B&&c.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==d&&(b=c.getBoxObjectFor(a))&&(0>b.screenX||0>b.screenY),e=new Eb(0,0),g;b=c?9==c.nodeType?c:Lb(c):document;if(g=A)if(g=!sb(9))Jb(b),g=m;g=g?b.body:b.documentElement;if(a==g)return e;if(a.getBoundingClientRect)b=Fc(a),a=Jb(c),a=Ob(a.ta),e.x=b.left+a.x,e.y=b.top+a.y;else if(c.getBoxObjectFor&&!f)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(g),e.x=b.screenX-a.screenX,e.y=b.screenY-a.screenY;else{b=
a;do{e.x+=b.offsetLeft;e.y+=b.offsetTop;b!=a&&(e.x+=b.clientLeft||0,e.y+=b.clientTop||0);if(C&&"fixed"==Cc(b,"position")){e.x+=c.body.scrollLeft;e.y+=c.body.scrollTop;break}b=b.offsetParent}while(b&&b!=a);if(gb||C&&"absolute"==d)e.y-=c.body.offsetTop;for(b=a;(b=Gc(b))&&b!=c.body&&b!=g;)if(e.x-=b.scrollLeft,!gb||"TR"!=b.tagName)e.y-=b.scrollTop}return e}function Ic(a,b){var c=Jc(a),d=Jc(b);return new Eb(c.x-d.x,c.y-d.y)}
function Jc(a){var b=new Eb;if(1==a.nodeType)if(a.getBoundingClientRect)a=Fc(a),b.x=a.left,b.y=a.top;else{var c;c=Jb(a);c=Ob(c.ta);a=Hc(a);b.x=a.x-c.x;b.y=a.y-c.y}else{c=fa(a.Qb);var d=a;a.targetTouches?d=a.targetTouches[0]:c&&a.fa.targetTouches&&(d=a.fa.targetTouches[0]);b.x=d.clientX;b.y=d.clientY}return b}function Kc(a,b,c){if(b instanceof Fb)c=b.height,b=b.width;else if(c==h)throw Error("missing height argument");a.style.width=Ec(b,k);a.style.height=Ec(c,k)}
function Ec(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a}function Lc(a){if("none"!=Cc(a,"display"))return Mc(a);var b=a.style,c=b.display,d=b.visibility,f=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";a=Mc(a);b.display=c;b.position=f;b.visibility=d;return a}function Mc(a){var b=a.offsetWidth,c=a.offsetHeight,d=C&&!b&&!c;return(b===h||d)&&a.getBoundingClientRect?(a=Fc(a),new Fb(a.right-a.left,a.bottom-a.top)):new Fb(b,c)}
function Nc(a){var b=Hc(a),a=Lc(a);return new zc(b.x,b.y,a.width,a.height)}function Q(a,b){var c=a.style;"opacity"in c?c.opacity=b:"MozOpacity"in c?c.MozOpacity=b:"filter"in c&&(c.filter=""===b?"":"alpha(opacity="+100*b+")")}function R(a,b){a.style.display=b?"":"none"}function Oc(a,b){if(/^\d+px?$/.test(b))return parseInt(b,10);var c=a.style.left,d=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=b;var f=a.style.pixelLeft;a.style.left=c;a.runtimeStyle.left=d;return f}
function Pc(a,b){if(A){var c=Oc(a,Bc(a,b+"Left")),d=Oc(a,Bc(a,b+"Right")),f=Oc(a,Bc(a,b+"Top")),e=Oc(a,Bc(a,b+"Bottom"));return new yc(f,d,e,c)}c=P(a,b+"Left");d=P(a,b+"Right");f=P(a,b+"Top");e=P(a,b+"Bottom");return new yc(parseFloat(f),parseFloat(d),parseFloat(e),parseFloat(c))};function Qc(a,b){var c,d;this.T=a;this.l=new Rc;this.ra=[];this.qb=k;var f=Nc(a);c=Pb("div","annotorious-annotationlayer");N(c,"position","relative");N(c,"display","inline-block");Sc(a,c);Kc(c,f.width,f.height);Tb(c,a);c.appendChild(a);d=H(Tc,{width:f.width,height:f.height});xb(d,"annotorious-item-unfocus");c.appendChild(d);this.g=H(Tc,{width:f.width,height:f.height});R(this.g,m);c.appendChild(this.g);this.popup=b?b:new S(c,this);f=new Uc;f.init(this.g,this);this.ra.push(f);this.ba=f;this.m=new Vc(d,
this.popup,this);this.editor=new T(this,c);this.ib=new Wc(this,c);var e=this;M(c,"mouseover",function(a){a=a.relatedTarget;if(!a||!Wb(c,a))e.l.fireEvent(Xc),Db(d,"annotorious-item-unfocus","annotorious-item-focus")});M(c,"mouseout",function(a){a=a.relatedTarget;if(!a||!Wb(c,a))e.l.fireEvent(Yc),Db(d,"annotorious-item-focus","annotorious-item-unfocus")});M(d,"mousedown",function(a){e.qb&&(R(e.g,k),e.m.j(h),e.ba.startSelection(a.offsetX,a.offsetY))});this.l.d(Zc,function(a){a=a.viewportBounds;e.editor.Z({x:a.left+
e.T.offsetLeft,y:a.bottom+4+e.T.offsetTop});e.editor.open()});this.l.d($c,function(){R(e.g,m);e.ba.stopSelection()})}function Sc(a,b){function c(c,d){N(b,"margin-"+c,d+"px");N(a,"margin-"+c,0);N(a,"padding-"+c,0)}var d=Pc(a,"margin"),f=Pc(a,"padding");(0!=d.top||0!=f.top)&&c("top",d.top+f.top);(0!=d.right||0!=f.right)&&c("right",d.right+f.right);(0!=d.bottom||0!=f.bottom)&&c("bottom",d.bottom+f.bottom);(0!=d.left||0!=f.left)&&c("left",d.left+f.left)}r=Qc.prototype;
r.ub=function(a){this.m.k(a);var b=x(this.ra,function(b){return b.getSupportedShapeType()==a.shapes[0].type});if(b){R(this.g,k);this.m.j(h);var c=this.g.getContext("2d"),d=a.shapes[0],f=this,d="pixel"==d.units?d:ya(d,function(a){return f.ua(a)});b.drawShape(c,d)}b=xa(a.shapes[0]).geometry;b="pixel"==a.shapes[0].units?{x:b.x,y:b.y+b.height}:this.ua({x:b.x,y:b.y+b.height});this.editor.Z({x:b.x+this.T.offsetLeft,y:b.y+4+this.T.offsetTop});this.editor.open(a)};r.n=function(a,b){this.m.n(a,b)};
r.d=function(a,b){this.l.d(a,b)};r.ea=function(a){a.init(this,this.g);this.ra.push(a)};r.fireEvent=function(a,b){this.l.fireEvent(a,b)};r.ua=function(a){var b=Lc(this.T);return{x:a.x*b.width,y:a.y*b.height}};r.O=aa("ba");r.z=function(){return this.m.z()};r.P=aa("ra");r.getItem=function(){return{src:ad(this.T)}};r.j=function(a){this.m.j(a)};r.k=function(a){this.m.k(a)};r.ha=function(a,b){this.l.ha(a,b)};
r.Y=function(a){(this.ba=x(this.ra,function(b){return b.getName()==a}))||console.log('WARNING: selector "'+a+'" not available')};r.S=function(a){this.qb=a;a||(a=this.ib,a.Pa(),delete a.nb,delete a.mb,delete a.Wa,delete a.Va,(a=a.element)&&a.parentNode&&a.parentNode.removeChild(a),delete this.ib)};r.stopSelection=function(a){R(this.g,m);this.ba.stopSelection();a&&this.m.n(a)};r.Ja=function(a){var b=Lc(this.T);return{x:a.x/b.width,y:a.y/b.height}};Qc.prototype.fireEvent=Qc.prototype.fireEvent;
Qc.prototype.toItemCoordinates=Qc.prototype.Ja;function U(a,b){this.R={};this.o=[];var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){var f;if(a instanceof U)bd(a),f=a.o.concat(),d=V(a);else{var c=[],e=0;for(f in a)c[e++]=f;f=c;c=[];e=0;for(d in a)c[e++]=a[d];d=c}for(c=0;c<f.length;c++)this.set(f[c],d[c])}}U.prototype.r=0;function V(a){bd(a);for(var b=[],c=0;c<a.o.length;c++)b.push(a.R[a.o[c]]);return b}
U.prototype.clear=function(){this.R={};this.r=this.o.length=0};function bd(a){if(a.r!=a.o.length){for(var b=0,c=0;b<a.o.length;){var d=a.o[b];Object.prototype.hasOwnProperty.call(a.R,d)&&(a.o[c++]=d);b++}a.o.length=c}if(a.r!=a.o.length){for(var f={},c=b=0;b<a.o.length;)d=a.o[b],Object.prototype.hasOwnProperty.call(f,d)||(a.o[c++]=d,f[d]=1),b++;a.o.length=c}}U.prototype.get=function(a,b){return Object.prototype.hasOwnProperty.call(this.R,a)?this.R[a]:b};
U.prototype.set=function(a,b){Object.prototype.hasOwnProperty.call(this.R,a)||(this.r++,this.o.push(a));this.R[a]=b};function cd(){this.h=new U;this.ya=[];this.N=[];this.gb=[];this.ma=[];this.aa=[];this.Ma=[];this.kb=k}r=cd.prototype;r.init=function(){var a=I("img.annotatable",document);Ra(this.gb,a);Ra(this.ma,a);dd(this);var b=this,c=M(window,"scroll",function(){0<b.ma.length?dd(b):lc(c)})};r.na=function(a,b){if(a.onInitAnnotator)a.onInitAnnotator(b)};
function dd(a){u(a.ma,function(b){for(var c=b,d=c.offsetTop,f=c.offsetLeft,e=c.offsetWidth,g=c.offsetHeight;c.offsetParent;)c=c.offsetParent,d+=c.offsetTop,f+=c.offsetLeft;d<window.pageYOffset+window.innerHeight&&f<window.pageXOffset+window.innerWidth&&d+g>window.pageYOffset&&f+e>window.pageXOffset&&ed(a,b)})}
function ed(a,b){var c=[],d=[],f=new Qc(b);a.kb||f.S(m);var e=ad(b);u(a.ya,function(a){f.d(a.type,a.va)});u(a.N,function(b){a.na(b,f)});u(a.aa,function(a){a.src==e&&(f.n(a),c.push(a))});u(a.Ma,function(a){a.src==e&&(f.k(a),d.push(a))});u(c,function(b){y(a.aa,b)});u(d,function(b){y(a.Ma,b)});a.h.set(e,f);y(a.ma,b)}function ad(a){var b=a.getAttribute("data-original");return b?b:a.src}r.n=function(a,b){if(this.J(a.src)){var c=this.h.get(a.src);c?c.n(a,b):(this.aa.push(a),b&&y(this.aa,b))}};
r.d=function(a,b){u(V(this.h),function(c){c.d(a,b)});this.ya.push({type:a,va:b})};r.za=function(a){this.N.push(a);var b=this;u(V(this.h),function(c){b.na(a,c)})};r.ea=function(a,b){if(this.J(a)){var c=this.h.get(a);c&&c.ea(b)}};r.J=function(a){return Object.prototype.hasOwnProperty.call(this.h.R,a)?k:x(this.ma,function(b){return ad(b)==a})!=l};r.O=function(a){if(this.J(a)&&(a=this.h.get(a)))return a.O().getName()};
r.z=function(a){if(a){var b=this.h.get(a);return b?b.z():Na(this.aa,function(b){return b.src==a})}var c=[];u(V(this.h),function(a){Ra(c,a.z())});Ra(c,this.aa);return c};r.P=function(a){if(this.J(a)&&(a=this.h.get(a)))return Oa(a.P(),function(a){return a.getName()})};r.j=function(a){if(a){if(this.J(a.src)){var b=this.h.get(a.src);b&&b.j(a)}}else u(V(this.h),function(a){a.j()})};r.Fa=function(a){this.fb(a)&&(this.gb.push(a),ed(this,a))};
r.k=function(a){if(this.J(a.src)){var b=this.h.get(a.src);b?b.k(a):this.Ma.push(a)}};r.Y=function(a,b){if(this.J(a)){var c=this.h.get(a);c&&c.Y(b)}};r.S=function(a){this.kb=a;u(V(this.h),function(b){b.S(a)})};r.fb=function(a){return Ub(a)?"IMG"==a.tagName:m};function Vc(a,b,c){this.G=a;this.B=b;this.f=c;this.$=[];this.U=[];this.w=this.G.getContext("2d");this.da=k;this.Sa=m;var d=this;M(this.G,"mousemove",function(a){if(d.da){var b=fd(d,a.offsetX,a.offsetY);b?(d.Sa=m,d.c?d.c!=b&&(d.da=m,W(d.B)):(d.c=b,gd(d),d.f.fireEvent(hd,{V:d.c,mouseEvent:a}))):!d.Sa&&d.c&&(d.da=m,W(d.B))}else d.ja=a});c.d(Yc,function(){delete d.c;d.da=k});c.d(id,function(){if(!d.da&&d.ja){var a=d.c;d.c=fd(d,d.ja.offsetX,d.ja.offsetY);d.da=k;a!=d.c?(gd(d),d.f.fireEvent(jd,{V:a,mouseEvent:d.ja}),
d.f.fireEvent(hd,{V:d.c,mouseEvent:d.ja})):d.c&&kd(d.B)}else gd(d)})}Vc.prototype.n=function(a,b){b&&(b==this.c&&delete this.c,y(this.$,b),delete this.U[za(b.shapes[0])]);this.$.push(a);var c=a.shapes[0];if("pixel"!=c.units)var d=this,c=ya(c,function(a){return d.f.ua(a)});this.U[za(a.shapes[0])]=c;gd(this)};Vc.prototype.k=function(a){a==this.c&&delete this.c;y(this.$,a);delete this.U[za(a.shapes[0])];gd(this)};Vc.prototype.z=function(){return Qa(this.$)};
Vc.prototype.j=function(a){(this.c=a)?this.Sa=k:W(this.B);gd(this)};function fd(a,b,c){a=ld(a,b,c);if(0<a.length)return a[0]}
function ld(a,b,c){var d=[];u(a.$,function(f){var e;e=a.U[za(f.shapes[0])];if("rect"==e.type)e=b<e.geometry.x||c<e.geometry.y||b>e.geometry.x+e.geometry.width||c>e.geometry.y+e.geometry.height?m:k;else if("polygon"==e.type){e=e.geometry.points;for(var g=m,j=e.length-1,i=0;i<e.length;i++)e[i].y>c!=e[j].y>c&&b<(e[j].x-e[i].x)*(c-e[i].y)/(e[j].y-e[i].y)+e[i].x&&(g=!g),j=i;e=g}else e=m;e&&d.push(f)});Ua(d,function(a,b){return wa(a.shapes[0])>wa(b.shapes[0])});return d}
function md(a,b,c){var d=x(a.f.P(),function(a){return a.getSupportedShapeType()==b.type});d?d.drawShape(a.w,b,c):console.log("WARNING unsupported shape type: "+b.type)}function gd(a){a.w.clearRect(0,0,a.G.width,a.G.height);u(a.$,function(b){md(a,a.U[za(b.shapes[0])])});if(a.c){var b=a.U[za(a.c.shapes[0])];md(a,b,k);b=xa(b).geometry;a.B.show(a.c,{x:b.x,y:b.y+b.height+5})}};var nd={};
function od(a){this.M=a;this.H=a.div;var b=parseInt(P(this.H,"width")),c=parseInt(P(this.H,"height"));this.l=new Rc;var d=Pb("div","annotorious-annotationlayer");N(d,"position","relative");Kc(d,b,c);Tb(d,this.H);d.appendChild(this.H);new Wc(this,d,"Hold CTRL to Annotate");var f=H(pd,{cb:"Click and Drag"});N(f,"z-index",9998);Q(f,0);d.appendChild(f);this.popup=new S(d,this);this.m=new qd(a,this.popup,this);this.g=H(Tc,{width:b,height:c});R(this.g,m);N(this.g,"z-index",9999);d.appendChild(this.g);this.qa=
new Uc;this.qa.init(this.g,this);this.editor=new T(this,d);N(this.editor.element,"z-index",1E4);var e=this;M(d,"mouseover",function(a){a=a.relatedTarget;(!a||!Wb(d,a))&&e.l.fireEvent(Xc)});M(d,"mouseout",function(a){a=a.relatedTarget;(!a||!Wb(d,a))&&e.l.fireEvent(Yc)});M(document,"keydown",function(a){17==a.keyCode&&(Q(f,0.8),R(e.g,k),window.setTimeout(function(){Q(f,0)},2E3))});M(this.g,"mousedown",function(a){var b=Jc(e.H);e.qa.startSelection(a.clientX-b.x,a.clientY-b.y)});this.l.d(Zc,function(a){a=
a.viewportBounds;e.editor.Z({x:a.left+e.H.offsetLeft,y:a.bottom+4+e.H.offsetTop});e.editor.open()});this.l.d($c,function(){e.stopSelection()})}r=od.prototype;r.ub=function(a){this.m.k(a);var b=this.qa,c=this;if(b){R(this.g,k);this.m.j(h);var d=this.g.getContext("2d"),f=ya(a.shapes[0],function(a){return c.ua(a)});b.drawShape(d,f);b=xa(f).geometry;this.editor.Z({x:b.x+this.H.offsetLeft,y:b.y+b.height+4+this.H.offsetTop});this.editor.open(a)}};r.n=function(a){this.m.n(a)};
r.d=function(a,b){this.l.d(a,b)};r.ea=n();r.fireEvent=function(a,b){this.l.fireEvent(a,b)};r.ua=function(a){a=this.M.getViewPortPxFromLonLat(new OpenLayers.LonLat(a.x,a.y));return{x:a.x,y:a.y}};r.O=aa("qa");r.z=n();r.P=n();r.getItem=function(){return{src:"map://openlayers/something"}};r.j=function(a){this.m.j(a)};r.k=function(a){this.m.k(a)};r.ha=function(a,b){this.l.ha(a,b)};r.Y=n();r.S=n();r.stopSelection=function(a){R(this.g,m);this.qa.stopSelection();a&&this.m.n(a)};
r.Ja=function(a){a=this.M.getLonLatFromPixel(new OpenLayers.Pixel(a.x,a.y));return{x:a.lon,y:a.lat}};function rd(){this.h=new U;this.ya=[];this.N=[];this.Lb=[]}r=rd.prototype;r.na=function(a,b){if(a.onInitAnnotator)a.onInitAnnotator(b)};r.init=n();r.n=n();r.d=n();r.za=function(a){this.N.push(a);var b=this;u(V(this.h),function(c){b.na(a,c)})};r.J=n();r.O=n();r.z=n();r.P=n();r.j=n();r.Fa=function(a){var b=new od(a),c=this;u(this.ya,function(a){b.d(a.type,a.va)});u(this.N,function(a){c.na(a,b)});this.h.set(map.id,b);this.Lb.push(map)};r.k=n();r.Y=n();r.S=n();r.fb=function(a){return a instanceof OpenLayers.Map};function qd(a,b,c){this.M=a;this.B=b;N(this.B.element,"z-index",99E3);this.oa=[];this.La=new OpenLayers.Layer.Boxes("Annotorious");this.M.addLayer(this.La);var d=this;this.M.events.register("move",this.M,function(){if(d.ca){var a=d.ca.wa.div,b=Ic(a,d.M.div),a=parseInt(a.style[La("height")]||"",10);d.B.Z({x:b.x,y:b.y+a+5})}});c.d(id,function(){d.Ta==d.ca?kd(d.B):wd(d,d.Ta,d.ca)})}
function wd(a,b,c){if(b){var d=Ic(b.wa.div,a.M.div),f=parseInt(b.wa.div.style[La("height")]||"",10);N(b.yb,"border-color","#fff000");a.B.show(b.V,{x:d.x,y:d.y+f+5});a.ca=b}else delete a.ca;c&&N(c.yb,"border-color","#fff")}
qd.prototype.n=function(a){var b=a.shapes[0].geometry,b=new OpenLayers.Marker.Box(new OpenLayers.Bounds(b.x,b.y,b.x+b.width,b.y+b.height));xb(b.div,"annotorious-ol-boxmarker-outer");N(b.div,"border",l);var c=Pb("div","annotorious-ol-boxmarker-inner");Kc(c,"100%","100%");b.div.appendChild(c);var d={V:a,wa:b,yb:c},f=this;M(c,"mouseover",function(){f.ca||wd(f,d);f.Ta=d});M(c,"mouseout",function(){delete f.Ta;W(f.B)});this.oa.push(d);Ua(this.oa,function(a,b){return wa(b.V.shapes[0])-wa(a.V.shapes[0])});
var e=1E4;u(this.oa,function(a){N(a.wa.div,"z-index",e);e++});this.La.addMarker(b)};qd.prototype.k=function(a){var b=x(this.oa,function(b){return b.V==a});b&&(y(this.oa,b),this.La.removeMarker(b.wa))};qd.prototype.z=n();qd.prototype.j=function(a){a||W(this.B)};function Uc(){}r=Uc.prototype;r.init=function(a,b){this.G=a;this.f=b;this.w=a.getContext("2d");this.w.lineWidth=1;this.Qa=m};
r.Ka=function(){var a=this;this.Ua=M(this.G,"mousemove",function(b){if(a.Qa){a.A={x:b.offsetX,y:b.offsetY};a.w.clearRect(0,0,a.G.width,a.G.height);var b=a.A.x-a.e.x,c=a.A.y-a.e.y;a.w.strokeStyle="#000000";a.w.strokeRect(a.e.x+0.5,a.e.y+0.5,b,c);a.w.strokeStyle="#ffffff";0<b&&0<c?a.w.strokeRect(a.e.x+1.5,a.e.y+1.5,b-2,c-2):0<b&&0>c?a.w.strokeRect(a.e.x+1.5,a.e.y-0.5,b-2,c+2):0>b&&0>c?a.w.strokeRect(a.e.x-0.5,a.e.y-0.5,b+2,c+2):a.w.strokeRect(a.e.x-0.5,a.e.y+1.5,b+2,c-2)}});this.ob=M(this.G,"mouseup",
function(b){a.Qa=m;var c=a.getShape();c?a.f.fireEvent(Zc,{mouseEvent:b,shape:c,viewportBounds:a.getViewportBounds()}):a.f.fireEvent($c)})};r.Pa=function(){this.Ua&&(lc(this.Ua),delete this.Ua);this.ob&&(lc(this.ob),delete this.Vb)};r.getName=function(){return"rect_drag"};r.getSupportedShapeType=function(){return"rect"};r.startSelection=function(a,b){this.Qa=k;this.Ka();this.e=new sa(a,b);this.f.fireEvent(xd,{offsetX:a,offsetY:b});N(document.body,"-webkit-user-select","none")};
r.stopSelection=function(){this.Pa();this.w.clearRect(0,0,this.G.width,this.G.height);N(document.body,"-webkit-user-select","auto");delete this.A};r.getShape=function(){if(this.A&&3<Math.abs(this.A.x-this.e.x)&&3<Math.abs(this.A.y-this.e.y)){var a=this.getViewportBounds(),b=this.f.Ja({x:a.left,y:a.top}),a=this.f.Ja({x:a.right-1,y:a.bottom-1});return new va("rect",new ua(b.x,b.y,a.x-b.x,a.y-b.y))}};
r.getViewportBounds=function(){var a,b;this.A.x>this.e.x?(a=this.A.x,b=this.e.x):(a=this.e.x,b=this.A.x);var c,d;this.A.y>this.e.y?(c=this.e.y,d=this.A.y):(c=this.A.y,d=this.e.y);return{top:c,right:a,bottom:d,left:b}};r.drawShape=function(a,b,c){if("rect"==b.type){var d;c?(c="#fff000",d=1.2):(c="#ffffff",d=1);b=b.geometry;a.strokeStyle="#000000";a.lineWidth=d;a.strokeRect(b.x+0.5,b.y+0.5,b.width+1,b.height+1);a.strokeStyle=c;a.strokeRect(b.x+1.5,b.y+1.5,b.width-1,b.height-1)}};function yd(a,b,c){this.src=a;this.text=b;this.shapes=[c];this.context=document.URL};function zd(a){window.addEventListener?window.addEventListener("load",a):window.attachEvent&&window.attachEvent("onload",a)};function X(){this.I=[new cd];nd&&this.I.push(new rd);this.N=[];var a=this;zd(function(){u(a.I,function(a){a.init()});u(a.N,function(b){b.initPlugin&&b.initPlugin(a);u(a.I,function(a){a.za(b)})})})}function Y(a,b){return x(a.I,function(a){return a.J(b)})}r=X.prototype;r.n=function(a,b){var c=Y(this,a.src);c&&c.n(a,b)};r.d=function(a,b){u(this.I,function(c){c.d(a,b)})};r.za=function(a,b){try{this.N.push(new window.annotorious.plugin[a](b))}catch(c){console.log("Could not load plugin: "+a)}};
r.ea=function(a,b){var c=Y(this,a);c&&c.ea(a,b)};r.O=function(a){var b=Y(this,a);if(b)return b.O(a)};r.z=function(a){if(a){var b=Y(this,a);return b?b.z(a):[]}var c=[];u(this.I,function(a){Ra(c,a.z())});return c};r.P=function(a){var b=Y(this,a);if(b)return b.P(a)};r.j=function(a){if(a){var b=Y(this,a.src);b&&b.j(a)}else u(this.I,function(a){a.j()})};
r.Fa=function(a){var b=x(this.I,function(b){return b.fb(a)});if(b)b.Fa(a);else throw"Error: Annotorious does not support this media type in the current version or build configuration.";};r.Tb=function(a){var b=this;u(this.z(a),function(a){b.k(a)})};r.k=function(a){var b=Y(this,a.src);b&&b.k(a)};r.Y=function(a,b){var c=Y(this,a);c&&c.Y(a,b)};r.S=function(a){u(this.I,function(b){b.S(a)})};window.anno=new X;X.prototype.addAnnotation=X.prototype.n;X.prototype.addHandler=X.prototype.d;
X.prototype.addPlugin=X.prototype.za;X.prototype.addSelector=X.prototype.ea;X.prototype.getActiveSelector=X.prototype.O;X.prototype.getAnnotations=X.prototype.z;X.prototype.getAvailableSelectors=X.prototype.P;X.prototype.highlightAnnotation=X.prototype.j;X.prototype.makeAnnotatable=X.prototype.Fa;X.prototype.removeAll=X.prototype.Tb;X.prototype.removeAnnotation=X.prototype.k;X.prototype.setActiveSelector=X.prototype.Y;X.prototype.setSelectionEnabled=X.prototype.S;var Ad;(Ad="ScriptEngine"in s&&"JScript"==s.ScriptEngine())&&(s.ScriptEngineMajorVersion(),s.ScriptEngineMinorVersion(),s.ScriptEngineBuildVersion());function Z(a,b){this.C=Ad?[]:"";a!=l&&this.append.apply(this,arguments)}Z.prototype.set=function(a){this.clear();this.append(a)};Ad?(Z.prototype.Za=0,Z.prototype.append=function(a,b,c){b==l?this.C[this.Za++]=a:(this.C.push.apply(this.C,arguments),this.Za=this.C.length);return this}):Z.prototype.append=function(a,b,c){this.C+=a;if(b!=l)for(var d=1;d<arguments.length;d++)this.C+=arguments[d];return this};Z.prototype.clear=function(){Ad?this.Za=this.C.length=0:this.C=""};
Z.prototype.toString=function(){if(Ad){var a=this.C.join("");this.clear();a&&this.append(a);return a}return this.C};/*
 Portions of this code are from the google-caja project, received by
 Google under the Apache license (http://code.google.com/p/google-caja/).
 All other code is Copyright 2009 Google, Inc. All Rights Reserved.

 // Copyright (C) 2006 Google Inc.
 //
 // Licensed under the Apache License, Version 2.0 (the "License");
 // you may not use this file except in compliance with the License.
 // You may obtain a copy of the License at
 //
 //      http://www.apache.org/licenses/LICENSE-2.0
 //
 // Unless required by applicable law or agreed to in writing, software
 // distributed under the License is distributed on an "AS IS" BASIS,
 // WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 // See the License for the specific language governing permissions and
 // limitations under the License.

*/
function Bd(){}
var Cd={$b:"<",Zb:">",Wb:"&",ac:"\u00a0",cc:'"',Xb:"'"},$={a:0,abbr:0,acronym:0,address:0,applet:16,area:2,b:0,base:18,basefont:18,bdo:0,big:0,blockquote:0,body:49,br:2,button:0,caption:0,center:0,cite:0,code:0,col:2,colgroup:1,dd:1,del:0,dfn:0,dir:0,div:0,dl:0,dt:1,em:0,fieldset:0,font:0,form:0,frame:18,frameset:16,h1:0,h2:0,h3:0,h4:0,h5:0,h6:0,head:49,hr:2,html:49,i:0,iframe:20,img:2,input:2,ins:0,isindex:18,kbd:0,label:0,legend:0,li:1,link:18,map:0,menu:0,meta:18,noframes:20,noscript:20,object:16,
ol:0,optgroup:0,option:1,p:1,param:18,pre:0,q:0,s:0,samp:0,script:20,select:0,small:0,span:0,strike:0,strong:0,style:20,sub:0,sup:0,table:0,tbody:1,td:1,textarea:8,tfoot:1,th:1,thead:1,title:24,tr:1,tt:0,u:0,ul:0,"var":0},Dd=/&/g,Ed=/&([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi,Fd=/</g,Gd=/>/g,Hd=/\"/g,Id=/=/g,Jd=/\0/g,Kd=/&(#\d+|#x[0-9A-Fa-f]+|\w+);/g,Ld=/^#(\d+)$/,Md=/^#x([0-9A-Fa-f]+)$/,Nd=RegExp("^\\s*(?:(?:([a-z][a-z-]*)(\\s*=\\s*(\"[^\"]*\"|'[^']*'|(?=[a-z][a-z-]*\\s*=)|[^>\"'\\s]*))?)|(/?>)|[^a-z\\s>]+)",
"i"),Od=RegExp("^(?:&(\\#[0-9]+|\\#[x][0-9a-f]+|\\w+);|<[!]--[\\s\\S]*?--\>|<!\\w[^>]*>|<\\?[^>*]*>|<(/)?([a-z][a-z0-9]*)|([^<&>]+)|([<&>]))","i");
Bd.prototype.parse=function(a,b){var c=l,d=m,f=[],e,g,j;a.D=[];for(a.Q=m;b;){var i=b.match(d?Nd:Od),b=b.substring(i[0].length);if(d)if(i[1]){var o=i[1].toLowerCase();if(i[2]){i=i[3];switch(i.charCodeAt(0)){case 34:case 39:i=i.substring(1,i.length-1)}i=i.replace(Jd,"").replace(Kd,pa(this.Rb,this))}else i=o;f.push(o,i)}else i[4]&&(g!==h&&(j?a.Fb&&a.Fb(e,f):a.vb&&a.vb(e)),j&&g&12&&(c=c===l?b.toLowerCase():c.substring(c.length-b.length),d=c.indexOf("</"+e),0>d&&(d=b.length),g&4?a.sb&&a.sb(b.substring(0,
d)):a.Db&&a.Db(b.substring(0,d).replace(Ed,"&amp;$1").replace(Fd,"&lt;").replace(Gd,"&gt;")),b=b.substring(d)),e=g=j=h,f.length=0,d=m);else if(i[1])Pd(a,i[0]);else if(i[3])j=!i[2],d=k,e=i[3].toLowerCase(),g=$.hasOwnProperty(e)?$[e]:h;else if(i[4])Pd(a,i[4]);else if(i[5])switch(i[5]){case "<":Pd(a,"&lt;");break;case ">":Pd(a,"&gt;");break;default:Pd(a,"&amp;")}}for(c=a.D.length;0<=--c;)a.L.append("</",a.D[c],">");a.D.length=0};
Bd.prototype.Rb=function(a){a=a.toLowerCase();if(Cd.hasOwnProperty(a))return Cd[a];var b=a.match(Ld);return b?String.fromCharCode(parseInt(b[1],10)):(b=a.match(Md))?String.fromCharCode(parseInt(b[1],16)):""};function Qd(){};/*
 Portions of this code are from the google-caja project, received by
 Google under the Apache license (http://code.google.com/p/google-caja/).
 All other code is Copyright 2009 Google, Inc. All Rights Reserved.

 // Copyright (C) 2006 Google Inc.
 //
 // Licensed under the Apache License, Version 2.0 (the "License");
 // you may not use this file except in compliance with the License.
 // You may obtain a copy of the License at
 //
 //      http://www.apache.org/licenses/LICENSE-2.0
 //
 // Unless required by applicable law or agreed to in writing, software
 // distributed under the License is distributed on an "AS IS" BASIS,
 // WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 // See the License for the specific language governing permissions and
 // limitations under the License.

*/
function Rd(a,b){var c=new Z;(new Bd).parse(new Sd(c,b,h),a);return c.toString()}function Sd(a,b,c){this.L=a;this.D=[];this.Q=m;this.Hb=b;this.Ga=c}ra(Sd,Qd);
var Td={"*::class":9,"*::dir":0,"*::id":4,"*::lang":0,"*::onclick":2,"*::ondblclick":2,"*::onkeydown":2,"*::onkeypress":2,"*::onkeyup":2,"*::onload":2,"*::onmousedown":2,"*::onmousemove":2,"*::onmouseout":2,"*::onmouseover":2,"*::onmouseup":2,"*::style":3,"*::title":0,"*::accesskey":0,"*::tabindex":0,"*::onfocus":2,"*::onblur":2,"a::coords":0,"a::href":1,"a::hreflang":0,"a::name":7,"a::onblur":2,"a::rel":0,"a::rev":0,"a::shape":0,"a::target":10,"a::type":0,"area::accesskey":0,"area::alt":0,"area::coords":0,
"area::href":1,"area::nohref":0,"area::onfocus":2,"area::shape":0,"area::tabindex":0,"area::target":10,"bdo::dir":0,"blockquote::cite":1,"br::clear":0,"button::accesskey":0,"button::disabled":0,"button::name":8,"button::onblur":2,"button::onfocus":2,"button::tabindex":0,"button::type":0,"button::value":0,"caption::align":0,"col::align":0,"col::char":0,"col::charoff":0,"col::span":0,"col::valign":0,"col::width":0,"colgroup::align":0,"colgroup::char":0,"colgroup::charoff":0,"colgroup::span":0,"colgroup::valign":0,
"colgroup::width":0,"del::cite":1,"del::datetime":0,"dir::compact":0,"div::align":0,"dl::compact":0,"font::color":0,"font::face":0,"font::size":0,"form::accept":0,"form::action":1,"form::autocomplete":0,"form::enctype":0,"form::method":0,"form::name":7,"form::onreset":2,"form::onsubmit":2,"form::target":10,"h1::align":0,"h2::align":0,"h3::align":0,"h4::align":0,"h5::align":0,"h6::align":0,"hr::align":0,"hr::noshade":0,"hr::size":0,"hr::width":0,"img::align":0,"img::alt":0,"img::border":0,"img::height":0,
"img::hspace":0,"img::ismap":0,"img::longdesc":1,"img::name":7,"img::src":1,"img::usemap":11,"img::vspace":0,"img::width":0,"input::accept":0,"input::accesskey":0,"input::autocomplete":0,"input::align":0,"input::alt":0,"input::checked":0,"input::disabled":0,"input::ismap":0,"input::maxlength":0,"input::name":8,"input::onblur":2,"input::onchange":2,"input::onfocus":2,"input::onselect":2,"input::readonly":0,"input::size":0,"input::src":1,"input::tabindex":0,"input::type":0,"input::usemap":11,"input::value":0,
"ins::cite":1,"ins::datetime":0,"label::accesskey":0,"label::for":5,"label::onblur":2,"label::onfocus":2,"legend::accesskey":0,"legend::align":0,"li::type":0,"li::value":0,"map::name":7,"menu::compact":0,"ol::compact":0,"ol::start":0,"ol::type":0,"optgroup::disabled":0,"optgroup::label":0,"option::disabled":0,"option::label":0,"option::selected":0,"option::value":0,"p::align":0,"pre::width":0,"q::cite":1,"select::disabled":0,"select::multiple":0,"select::name":8,"select::onblur":2,"select::onchange":2,
"select::onfocus":2,"select::size":0,"select::tabindex":0,"table::align":0,"table::bgcolor":0,"table::border":0,"table::cellpadding":0,"table::cellspacing":0,"table::frame":0,"table::rules":0,"table::summary":0,"table::width":0,"tbody::align":0,"tbody::char":0,"tbody::charoff":0,"tbody::valign":0,"td::abbr":0,"td::align":0,"td::axis":0,"td::bgcolor":0,"td::char":0,"td::charoff":0,"td::colspan":0,"td::headers":6,"td::height":0,"td::nowrap":0,"td::rowspan":0,"td::scope":0,"td::valign":0,"td::width":0,
"textarea::accesskey":0,"textarea::cols":0,"textarea::disabled":0,"textarea::name":8,"textarea::onblur":2,"textarea::onchange":2,"textarea::onfocus":2,"textarea::onselect":2,"textarea::readonly":0,"textarea::rows":0,"textarea::tabindex":0,"tfoot::align":0,"tfoot::char":0,"tfoot::charoff":0,"tfoot::valign":0,"th::abbr":0,"th::align":0,"th::axis":0,"th::bgcolor":0,"th::char":0,"th::charoff":0,"th::colspan":0,"th::headers":6,"th::height":0,"th::nowrap":0,"th::rowspan":0,"th::scope":0,"th::valign":0,
"th::width":0,"thead::align":0,"thead::char":0,"thead::charoff":0,"thead::valign":0,"tr::align":0,"tr::bgcolor":0,"tr::char":0,"tr::charoff":0,"tr::valign":0,"ul::compact":0,"ul::type":0};
Sd.prototype.Fb=function(a,b){if(!this.Q&&$.hasOwnProperty(a)){var c=$[a];if(!(c&32))if(c&16)this.Q=!(c&2);else{for(var d=b,f=0;f<d.length;f+=2){var e=d[f],g=d[f+1],j=l,i;if((i=a+"::"+e,Td.hasOwnProperty(i))||(i="*::"+e,Td.hasOwnProperty(i)))j=Td[i];if(j!==l)switch(j){case 0:break;case 2:case 3:g=l;break;case 4:case 5:case 6:case 7:case 8:case 9:g=this.Ga?this.Ga(g):g;break;case 1:g=this.Hb&&this.Hb(g);break;case 11:g&&"#"===g.charAt(0)?(g=this.Ga?this.Ga(g):g)&&(g="#"+g):g=l;break;default:g=l}else g=
l;d[f+1]=g}if(b=d){c&2||this.D.push(a);this.L.append("<",a);c=0;for(d=b.length;c<d;c+=2)f=b[c],e=b[c+1],e!==l&&e!==h&&this.L.append(" ",f,'="',e.replace(Dd,"&amp;").replace(Fd,"&lt;").replace(Gd,"&gt;").replace(Hd,"&#34;").replace(Id,"&#61;"),'"');this.L.append(">")}}}};
Sd.prototype.vb=function(a){if(this.Q)this.Q=m;else if($.hasOwnProperty(a)){var b=$[a];if(!(b&50)){if(b&1)for(b=this.D.length;0<=--b;){var c=this.D[b];if(c===a)break;if(!($[c]&1))return}else for(b=this.D.length;0<=--b&&!(this.D[b]===a););if(!(0>b)){for(var d=this.D.length;--d>b;)c=this.D[d],$[c]&1||this.L.append("</",c,">");this.D.length=b;this.L.append("</",a,">")}}}};function Pd(a,b){a.Q||a.L.append(b)}Sd.prototype.Db=function(a){this.Q||this.L.append(a)};Sd.prototype.sb=function(a){this.Q||this.L.append(a)};function T(a,b){this.element=H(Ud);this.f=a;this.Kb=a.getItem();this.sa=I(".annotorious-editor-text",this.element)[0];this.Ib=I(".annotorious-editor-button-cancel",this.element)[0];this.hb=I(".annotorious-editor-button-save",this.element)[0];this.Jb=Vb(this.hb);this.ka=[];var c=this;M(this.Ib,"click",function(b){b.preventDefault();a.stopSelection(c.pb);c.close()});M(this.hb,"click",function(b){b.preventDefault();b=c.wb();a.n(b);a.stopSelection();c.pb?a.fireEvent(Vd,b):a.fireEvent(Wd,b);c.close()});
R(this.element,m);b.appendChild(this.element);this.sa.focus()}r=T.prototype;r.Xa=function(a){var b=Pb("div","annotorious-editor-field");t(a)?b.innerHTML=a:fa(a)?this.ka.push({t:b,$a:a}):Ub(a)&&b.appendChild(a);a=this.Jb;a.parentNode&&a.parentNode.insertBefore(b,a)};r.open=function(a){if(this.xa=this.pb=a)this.sa.value=a.text;R(this.element,k);this.sa.focus();u(this.ka,function(b){var c=b.$a(a);t(c)?b.t.innerHTML=c:Ub(c)&&(Sb(b.t),b.t.appendChild(c))})};
r.close=function(){R(this.element,m);this.sa.value=""};r.Z=function(a){Dc(this.element,a.x,a.y)};r.wb=function(){var a=Rd(this.sa.value,function(a){return a});this.xa?this.xa.text=a:this.xa=new yd(this.Kb.src,a,this.f.O().getShape());return this.xa};T.prototype.addField=T.prototype.Xa;T.prototype.getAnnotation=T.prototype.wb;function Rc(){this.la=[]}Rc.prototype.d=function(a,b){this.la[a]||(this.la[a]=[]);this.la[a].push(b)};Rc.prototype.ha=function(a,b){var c=this.la[a];c&&y(c,b)};Rc.prototype.fireEvent=function(a,b){var c=this.la[a];c&&u(c,function(a){a(b)})};var Xc="onMouseOverItem",Yc="onMouseOutOfItem",hd="onMouseOverAnnotation",jd="onMouseOutOfAnnotation",xd="onSelectionStarted",$c="onSelectionCanceled",Zc="onSelectionCompleted",id="beforePopupHide",Wd="onAnnotationCreated",Vd="onAnnotationUpdated",Xd={};function Wc(a,b,c){var d=this;c||(c="Click and Drag to Annotate");this.element=H(Yd,{cb:c});this.f=a;this.lb=I(".annotorious-hint-msg",this.element)[0];this.jb=I(".annotorious-hint-icon",this.element)[0];this.Wa=function(){d.show()};this.Va=function(){Zd(d)};this.Ka();Zd(this);b.appendChild(this.element)}
Wc.prototype.Ka=function(){var a=this;this.nb=M(this.jb,"mouseover",function(){a.show();window.clearTimeout(a.Ra)});this.mb=M(this.jb,"mouseout",function(){Zd(a)});this.f.d(Xc,this.Wa);this.f.d(Yc,this.Va)};Wc.prototype.Pa=function(){lc(this.nb);lc(this.mb);this.f.ha(Xc,this.Wa);this.f.ha(Yc,this.Va)};Wc.prototype.show=function(){window.clearTimeout(this.Ra);Q(this.lb,0.8);var a=this;this.Ra=window.setTimeout(function(){Zd(a)},3E3)};function Zd(a){window.clearTimeout(a.Ra);Q(a.lb,0)};window.annotorious||(window.annotorious={});window.annotorious.plugin||(window.annotorious.plugin={});function S(a,b){this.element=H($d);this.f=b;this.Mb=I(".annotorious-popup-text",this.element)[0];this.F=I(".annotorious-popup-buttons",this.element)[0];this.Oa=m;this.ka=[];var c=I(".annotorious-popup-button-edit",this.F)[0],d=I(".annotorious-popup-button-delete",this.F)[0],f=this;M(c,"mouseover",function(){xb(c,"annotorious-popup-button-active")});M(c,"mouseout",function(){zb(c,"annotorious-popup-button-active")});M(c,"click",function(){Q(f.element,0);N(f.element,"pointer-events","none");b.ub(f.c)});
M(d,"mouseover",function(){xb(d,"annotorious-popup-button-active")});M(d,"mouseout",function(){zb(d,"annotorious-popup-button-active")});M(d,"click",function(){Q(f.element,0);N(f.element,"pointer-events","none");b.fireEvent("onAnnotationRemoved",f.c);b.k(f.c)});M(this.element,"mouseover",function(){window.clearTimeout(f.Na);0.9>(f.F.style[La("opacity")]||"")&&Q(f.F,0.9);kd(f)});M(this.element,"mouseout",function(){Q(f.F,0);W(f)});b.d(Xd.Ub,function(){W(f)});Q(this.F,0);Q(this.element,0);N(this.element,
"pointer-events","none");a.appendChild(this.element)}S.prototype.Xa=function(a){var b=Pb("div","annotorious-popup-field");t(a)?b.innerHTML=a:fa(a)?this.ka.push({t:b,$a:a}):Ub(a)&&b.appendChild(a);this.element.appendChild(b)};function W(a){a.Oa=m;a.pa||(a.pa=window.setTimeout(function(){a.f.fireEvent(id,a);a.Oa||(Q(a.element,0),N(a.element,"pointer-events","none"),Q(a.F,0.9),delete a.pa)},300))}function kd(a){a.Oa=k;a.pa&&(window.clearTimeout(a.pa),delete a.pa)}
S.prototype.show=function(a,b){kd(this);if(a&&b){this.c=a;this.Mb.innerHTML=a.text?a.text.replace(/\n/g,"<br/>"):'<span class="annotorious-popup-empty">No comment</span>';"editable"in a&&a.editable==m?R(this.F,m):R(this.F,k);this.Z(b);this.Na&&window.clearTimeout(this.Na);Q(this.F,0.9);var c=this;this.Na=window.setTimeout(function(){Q(c.F,0)},1E3);u(this.ka,function(b){var c=b.$a(a);t(c)?b.t.innerHTML=c:Ub(c)&&(Sb(b.t),b.t.appendChild(c))})}Q(this.element,0.9);N(this.element,"pointer-events","auto")};
S.prototype.Z=function(a){Dc(this.element,new Eb(a.x,a.y))};S.prototype.addField=S.prototype.Xa;A&&E(8);function ae(a){return"object"===typeof a&&a&&0===a.Yb?a.content:(""+a).replace(be,ce)}var de={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\u000c":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function ce(a){return de[a]}var be=/[\x00\x22\x26\x27\x3c\x3e]/g;function $d(){return'<div class="annotorious-popup" style="position:absolute;z-index:1"><div class="annotorious-popup-buttons"><a class="annotorious-popup-button annotorious-popup-button-edit" title="Edit" href="javascript:void(0);">EDIT</a><a class="annotorious-popup-button annotorious-popup-button-delete" title="Delete" href="javascript:void(0);">DELETE</a></div><span class="annotorious-popup-text"></span></div>'}
function Ud(){return'<div class="annotorious-editor" style="position:absolute;z-index:1"><form><textarea class="annotorious-editor-text" placeholder="Add a Comment..." tabindex="1"></textarea><div class="annotorious-editor-button-container"><a class="annotorious-editor-button annotorious-editor-button-cancel" href="javascript:void(0);" tabindex="3">Cancel</a><a class="annotorious-editor-button annotorious-editor-button-save" href="javascript:void(0);" tabindex="2">Save</a></div></form></div>'};function Tc(a){return'<canvas class="annotorious-item annotorious-opacity-fade" style="position:absolute; top:0px; left:0px; width:'+ae(a.width)+"px; height:"+ae(a.height)+'px; z-index:0" width="'+ae(a.width)+'" height="'+ae(a.height)+'"></canvas>'}
function Yd(a){return'<div class="annotorious-hint" style="white-space:nowrap; position:absolute; top:0px; left:0px; pointer-events:none;"><div class="annotorious-hint-msg annotorious-opacity-fade">'+ae(a.cb)+'</div><div class="annotorious-hint-icon" style="pointer-events:auto"></div></div>'};function pd(a){return'<div class="annotorious-opacity-fade" style="white-space:nowrap; position:absolute; pointer-events:none; top:80px; width:100%; text-align:center;"><div class="annotorious-ol-hint annotorious-ol-hint-secondary" style="width: 400px; margin:0px auto;">'+ae(a.cb)+"</dvi></div>"};
